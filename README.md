# 🚀 نظام إدارة المحل الكهربائي

هذا المشروع هو تطبيق ويب شامل تم تطويره باستخدام Django لمساعدة أصحاب المحلات التجارية الصغيرة على رقمنة وأتمتة عملياتهم اليومية. تم بناء النظام خصيصاً ليحل محل الأساليب الورقية التقليدية في إدارة المنتجات، المخزون، المبيعات، والديون، مما يزيد من الكفاءة ويقلل من الأخطاء البشرية.

---

## ✨ الميزات الرئيسية

-   **📊 لوحة تحكم تفاعلية:** عرض ملخص فوري للمبيعات اليومية، إجمالي الديون، وأهم المنتجات التي على وشك النفاد.
-   **🛒 نقطة بيع (POS) سهلة الاستخدام:** واجهة سريعة لإضافة المنتجات إلى السلة، مع دعم كامل للمبيعات النقدية والآجلة (الدين).
-   **📦 إدارة متكاملة للمنتجات:** نظام لإضافة وتعديل المنتجات وتصنيفها، مع سهولة البحث الفوري بالاسم أو الرمز (SKU).
-   **📒 نظام ديون احترافي:** ملف خاص لكل عميل مدين، مع كشف حساب تفصيلي لجميع الفواتير والمدفوعات، وتحديث تلقائي للرصيد.
-   **📉 تتبع ذكي للمخزون:** تحديث تلقائي لكميات المنتجات بعد كل عملية بيع، مع تقرير مخصص للنواقص بناءً على "حد إعادة الطلب".
-   **🔔 إشعارات فورية عبر تليجرام:** إرسال تنبيهات تلقائية عند تسجيل دين جديد أو عند وصول كمية منتج إلى حد النقص.
-   **📝 إدارة الملاحظات:** قسم بسيط لتدوين الملاحظات الهامة لتجنب ضياعها.

---

## 🛠️ التقنيات المستخدمة

| الفئة         | التقنية                                                              |
| :------------ | :-------------------------------------------------------------------- |
| **الواجهة الخلفية (Backend)** | Django, Gunicorn                                                      |
| **الواجهة الأمامية (Frontend)**| HTML, Tailwind CSS, JavaScript (Fetch API)                            |
| **قاعدة البيانات** | PostgreSQL (في بيئة التشغيل), SQLite3 (في بيئة التطوير) |
| **الاستضافة والنشر (Deployment)** | Render (للتطبيق), Supabase (لقاعدة البيانات)                      |

---

## ⚙️ إعداد المشروع للعمل محلياً (Local Setup)

لإعداد وتشغيل المشروع على جهازك المحلي، اتبع الخطوات التالية:

**1. المتطلبات الأساسية:**
   - تأكد من تثبيت [Python 3.10](https://www.python.org/) أو أحدث.
   - تأكد من تثبيت `pip` و `venv`.

**2. استنساخ المستودع:**
   ```bash
   git clone https://github.com/77hamed77/store_manager.git
   cd store_manager
   ```

**3. إعداد البيئة الافتراضية:**
   ```bash
   # إنشاء بيئة افتراضية
   python -m venv venv

   # تفعيل البيئة (Windows)
   .\venv\Scripts\activate

   # تفعيل البيئة (Linux/macOS)
   source venv/bin/activate
   ```

**4. تثبيت الحزم المطلوبة:**
   ```bash
   pip install -r requirements.txt
   ```

**5. إعداد متغيرات البيئة:**
   - قم بإنشاء ملف جديد باسم `.env` في المجلد الجذري للمشروع.
   - انسخ محتوى ملف `.env.example` (إذا وجد) أو استخدم القالب التالي واملأه ببياناتك:
     ```env
     # .env
     DEBUG=True
     SECRET_KEY='ضع-هنا-مفتاح-سري-جديد-وقوي'
     ALLOWED_HOSTS=127.0.0.1,localhost

     # بيانات بوت التليجرام (اختياري)
     TELEGRAM_BOT_TOKEN='التوكن-الخاص-بك'
     TELEGRAM_CHAT_ID='الـ-ID-الخاص-بك'
     ```

**6. تطبيق ترحيل قاعدة البيانات (Migrations):**
   ```bash
   python manage.py migrate
   ```

**7. إنشاء حساب مدير (Superuser):**
   ```bash
   python manage.py createsuperuser
   ```

**8. تشغيل خادم التطوير:**
   ```bash
   python manage.py runserver
   ```
   الآن يمكنك الوصول إلى الموقع عبر الرابط: [http://127.0.0.1:8000](http://127.0.0.1:8000)

---

## ☁️ إرشادات النشر على Render

تم إعداد هذا المشروع ليكون جاهزاً للنشر مباشرة على منصة Render.

1.  **إعداد الخدمة على Render:**
    - قم بإنشاء "New Web Service" وربطه بمستودع GitHub هذا.
    - ستكتشف Render تلقائياً أن هذا مشروع Python.

2.  **إعدادات أوامر النشر:**
    - **Build Command:** `./build.sh`
    - **Start Command:** `gunicorn store_manager.wsgi:application`

3.  **متغيرات البيئة (Environment Variables):**
    - اذهب إلى قسم "Environment" في إعدادات خدمتك على Render.
    - أضف كل المتغيرات التي وضعتها في ملف `.env`، ولكن بقيم مناسبة لبيئة التشغيل:
      - `DEBUG`: `False` (مهم جداً للأمان)
      - `SECRET_KEY`: (مفتاح سري مختلف عن مفتاح التطوير)
      - `ALLOWED_HOSTS`: `your-app-name.onrender.com` (اسم نطاق تطبيقك على Render)
      - `DATABASE_URL`: (رابط الاتصال بقاعدة بيانات PostgreSQL من Supabase)
      - `TELEGRAM_BOT_TOKEN` و `TELEGRAM_CHAT_ID`.

4.  **النشر:**
    - قم بعملية نشر يدوية "Manual Deploy" أو انتظر النشر التلقائي بعد أي `push` إلى الفرع الرئيسي.

---

## ❤️ شكر وتقدير

تم تطوير هذا المشروع بحب بواسطة **الابن البار** لمساعدة والدي في إدارة محله.